<!-- 
BICEP HEALTH CHECK DASHBOARD TEMPLATE

TO CREATE A NEW VERSION:
1. Copy this file
2. Edit the 'dashboardData' object (lines 15-45)
3. Update location name and date
4. Change all percentage/count values as needed
5. Update image paths if different
6. Save with new name (e.g., bicep_shq_abc.html)

CONSTANTS (DO NOT CHANGE):
- Ring segment maximums: 40, 20, 20, 20
- Color codes: Blue #2E5C8A, Green #4A7C59, Red #C14543, Yellow #D4A92C
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BICEP Health Check Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, Helvetica, sans-serif;
            background: #ffffff;
            min-height: 100vh;
            padding: 0;
            margin: 0;
        }

        .dashboard-container {
            width: 100%;
            min-height: 100vh;
            background: #ffffff;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            padding: 40px 40px;
            text-align: center;
            position: relative;
            flex-shrink: 0;
        }

        .header h1 {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 5px;
            letter-spacing: 1px;
        }

        .header .subheading {
            font-size: 1.6rem;
            opacity: 0.9;
            font-weight: 400;
        }

        .header .logo-left,
        .header .logo-right {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            height: 170px;
            width: auto;
        }

        .header .logo-left {
            left: 150px;
        }

        .header .logo-right {
            right: 150px;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 0.3fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 0px;
            padding: 14px 0px;
            flex: 1;
            align-items: center;
            justify-items: center;
        }

        .main-content .info-box:first-child {
            grid-column: 1;
            grid-row: 1;
        }

        .main-content .ring-container {
            grid-column: 2;
            grid-row: 1 / 3;
            align-self: center;
            justify-self: center;
        }

        .main-content .info-box.box-green {
            grid-column: 3;
            grid-row: 1;
        }

        .main-content .info-box.box-red {
            grid-column: 1;
            grid-row: 2;
        }

        .main-content .info-box.box-yellow {
            grid-column: 3;
            grid-row: 2;
        }

        .info-box {
            width: 100%;
            max-width: 650px;
            overflow: visible;
            display: flex;
            flex-direction: column;
            padding-top: 0;
            min-height: 320px;
            position: relative;
            z-index: 1;
            align-self: start;
        }

        .main-content .info-box:first-child {
            margin: 0 0 0 -50px;
        }

        .main-content .info-box.box-green {
            margin: 0 -50px 0 0;
        }

        .main-content .info-box.box-red {
            margin: 0 0 0 -50px;
        }

        .main-content .info-box.box-yellow {
            margin: 0 -50px 0 0;
        }

        .info-box .box-header {
            padding: 12px 40px;
            font-weight: 600;
            font-size: 1.6rem;
            text-align: center;
            border-radius: 28px;
            margin: 0 14px;
            border: 3px solid;
            white-space: nowrap;
            position: relative;
            z-index: 1;
            background: #fff;
        }

        .info-box .box-content {
            padding: 28px 50px 24px 50px;
            flex: 1;
            border-radius: 12px;
            border: 3px solid;
            margin-top: -16px;
            margin-left: 14px;
            margin-right: 14px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .main-content .info-box:first-child .box-header {
            transform: translateX(107px);
        }

        .main-content .info-box:first-child .box-content {
            margin-right: -200px;
        }

        .main-content .info-box.box-green .box-header {
            transform: translateX(-107px);
        }

        .main-content .info-box.box-green .box-content {
            margin-left: -200px;
        }

        .main-content .info-box.box-red .box-header {
            transform: translateX(107px);
        }

        .main-content .info-box.box-red .box-content {
            margin-right: -200px;
        }

        .main-content .info-box.box-yellow .box-header {
            transform: translateX(-107px);
        }

        .main-content .info-box.box-yellow .box-content {
            margin-left: -200px;
        }

        .info-box .data-item {
            display: flex;
            justify-content: center;
            gap: 40px;
            padding: 12px 0;
            border-bottom: 1px solid #eee;
            font-size: 1.7rem;
        }

        .info-box .data-item:last-child {
            border-bottom: none;
        }

        .info-box .data-item .label {
            color: #555;
        }

        .info-box .data-item .value {
            font-weight: 600;
            color: #222;
        }

        /* Box 1 - Blue */
        .box-blue .box-header {
            border-color: #3498db;
            color: #3498db;
        }

        .box-blue .box-content {
            background: #E8F4FC;
            border-color: #3498db;
        }

        /* Box 2 - Green */
        .box-green .box-header {
            border-color: #27ae60;
            color: #27ae60;
        }

        .box-green .box-content {
            background: #E8F8F0;
            border-color: #27ae60;
        }

        /* Box 3 - Red */
        .box-red .box-header {
            border-color: #e74c3c;
            color: #e74c3c;
        }

        .box-red .box-content {
            background: #FDE8E7;
            border-color: #e74c3c;
        }

        /* Box 4 - Yellow */
        .box-yellow .box-header {
            border-color: #d4ac0d;
            color: #d4ac0d;
        }

        .box-yellow .box-content {
            background: #FEF9E7;
            border-color: #d4ac0d;
        }

        .ring-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            transform: translateY(-20px) scaleX(1.25);
            position: relative;
            z-index: 10;
        }

        .ring-chart {
            width: 350px;
            height: 350px;
        }

        .ring-center-text {
            text-anchor: middle;
        }

        .ring-center-title {
            font-size: 32px;
            fill: #333;
            font-weight: 600;
        }

        .ring-center-score {
            font-size: 80px;
            font-weight: 700;
        }

        .legend-box {
            margin-top: 6px;
            padding: 18px 35px;
            background: #fafafa;
            border-radius: 10px;
            border: 1px solid #eee;
            text-align: center;
        }

        .legend-box h3 {
            font-size: 1.4rem;
            color: #333;
            margin-bottom: 12px;
            font-weight: 600;
        }

        .legend-items {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.2rem;
            color: #555;
        }

        .legend-dot {
            width: 16px;
            height: 16px;
            border-radius: 50%;
        }

        .dot-blue { background: #3498db; }
        .dot-green { background: #27ae60; }
        .dot-red { background: #e74c3c; }
        .dot-yellow { background: #f1c40f; }

        @media (max-width: 1200px) {
            body {
                padding: 15px;
            }
            
            .dashboard-container {
                aspect-ratio: auto;
                min-height: 100vh;
            }

            .main-content {
                grid-template-columns: 1fr 1fr;
                grid-template-rows: auto auto auto;
            }

            .main-content .info-box:first-child {
                grid-column: 1;
                grid-row: 1;
            }

            .main-content .ring-container {
                grid-column: 1 / 3;
                grid-row: 2;
            }

            .main-content .info-box.box-green {
                grid-column: 2;
                grid-row: 1;
            }

            .main-content .info-box.box-red {
                grid-column: 1;
                grid-row: 3;
            }

            .main-content .info-box.box-yellow {
                grid-column: 2;
                grid-row: 3;
            }

            .header .logo-left,
            .header .logo-right {
                position: static;
                transform: none;
                display: inline-block;
                vertical-align: middle;
                margin: 0 10px;
                height: 100px;
            }

            .header h1 {
                display: inline-block;
                font-size: 2rem;
            }

            .header .subheading {
                display: block;
                margin-top: 10px;
            }
        }

        @media (max-width: 600px) {
            .main-content {
                grid-template-columns: 1fr;
                gap: 15px;
                padding: 15px;
            }

            .main-content .info-box:first-child,
            .main-content .ring-container,
            .main-content .info-box.box-green,
            .main-content .info-box.box-red,
            .main-content .info-box.box-yellow {
                grid-column: 1;
            }

            .main-content .info-box:first-child { grid-row: 1; }
            .main-content .ring-container { grid-row: 2; }
            .main-content .info-box.box-green { grid-row: 3; }
            .main-content .info-box.box-red { grid-row: 4; }
            .main-content .info-box.box-yellow { grid-row: 5; }

            .info-box {
                width: 100%;
                max-width: 320px;
            }

            .ring-chart {
                width: 280px;
                height: 280px;
            }

            .ring-center-score {
                font-size: 60px;
            }
            
            .ring-center-title {
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <header class="header">
            <img src="" alt="Left Logo" class="logo-left" id="logoLeft">
            <h1>Border Infrastructure Health Check</h1>
            <p class="subheading" id="locationDate"></p>
            <img src="" alt="Right Logo" class="logo-right" id="logoRight">
        </header>

        <div class="main-content">
            <!-- Box 1 - Operational Health (Blue) -->
            <div class="info-box box-blue">
                <div class="box-header">Operational Health Report</div>
                <div class="box-content">
                    <div class="data-item">
                        <span class="label">Total AOR</span>
                        <span class="value"><span id="totalAOR">0</span> km</span>
                    </div>
                    <div class="data-item">
                        <span class="label">Fenced</span>
                        <span class="value"><span id="fenced">0</span>%</span>
                    </div>
                    <div class="data-item">
                        <span class="label">Unfenced</span>
                        <span class="value"><span id="unfenced">0</span>%</span>
                    </div>
                    <div class="data-item">
                        <span class="label">Road</span>
                        <span class="value"><span id="road">0</span> km</span>
                    </div>
                    <div class="data-item">
                        <span class="label">Observation Clear</span>
                        <span class="value"><span id="observationClear">0</span>%</span>
                    </div>
                </div>
            </div>

            <!-- Ring Chart -->
            <div class="ring-container">
                <svg class="ring-chart" viewBox="0 0 400 400" id="ringChart">
                    <!-- Segments will be drawn by JavaScript -->
                </svg>
            </div>

            <!-- Box 2 - Surveillance Effectiveness (Green) -->
            <div class="info-box box-green">
                <div class="box-header">Surveillance Effectiveness</div>
                <div class="box-content">
                    <div class="data-item">
                        <span class="label">Cameras Installed</span>
                        <span class="value"><span id="camerasInstalled">0</span></span>
                    </div>
                    <div class="data-item">
                        <span class="label">Area Covered</span>
                        <span class="value"><span id="areaCovered">0</span>%</span>
                    </div>
                    <div class="data-item">
                        <span class="label">Area Uncovered</span>
                        <span class="value"><span id="areaUncovered">0</span>%</span>
                    </div>
                </div>
            </div>

            <!-- Box 3 - BN HQ Elements (Red) -->
            <div class="info-box box-red">
                <div class="box-header">BN HQ Elements</div>
                <div class="box-content">
                    <div class="data-item">
                        <span class="label">Available</span>
                        <span class="value"><span id="bnhqAvailable">0</span>%</span>
                    </div>
                    <div class="data-item">
                        <span class="label">Not Available</span>
                        <span class="value"><span id="bnhqNotAvailable">0</span>%</span>
                    </div>
                    <div class="data-item">
                        <span class="label">Need Improvement</span>
                        <span class="value"><span id="bnhqNeedImprovement">0</span>%</span>
                    </div>
                </div>
            </div>

            <!-- Box 4 - BOP Elements (Yellow) -->
            <div class="info-box box-yellow">
                <div class="box-header">BOP Elements</div>
                <div class="box-content">
                    <div class="data-item">
                        <span class="label">Available</span>
                        <span class="value"><span id="bopAvailable">0</span>%</span>
                    </div>
                    <div class="data-item">
                        <span class="label">Not Available</span>
                        <span class="value"><span id="bopNotAvailable">0</span>%</span>
                    </div>
                    <div class="data-item">
                        <span class="label">Need Improvement</span>
                        <span class="value"><span id="bopNeedImprovement">0</span>%</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Legend -->
        <div class="legend-box">
            <h3>Distribution of BICEP Score</h3>
            <div class="legend-items">
                <div class="legend-item">
                    <span class="legend-dot dot-blue"></span>
                    <span>40% from Operational Health</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot dot-green"></span>
                    <span>20% from Surveillance</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot dot-red"></span>
                    <span>20% from BN HQ Elements</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot dot-yellow"></span>
                    <span>20% from BOP Elements</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ============================================
        // DATA CONFIGURATION - EDIT THIS SECTION
        // ============================================
        const dashboardData = {
            // Header Information
            location: "SHQ XYZ",
            date: "April 2026",
            leftImagePath: "ftr.png",
            rightImagePath: "bsf.png",
            
            // BICEP Health Score (displayed in center of ring)
            // Color: <60 = Red, 60-75 = Yellow, >75 = Green
            bicepScore: 50,
            
            // Ring Chart Segments (filled values - max values are constants)
            operational: 30,      // out of 40 (Blue)
            surveillance: 12,    // out of 20 (Green)
            bnhq: 15,            // out of 20 (Red)
            bop: 8,              // out of 20 (Yellow)
            
            // Box 1 - Operational Health Report (Blue)
            totalAOR: 55,
            fenced: 45,
            unfenced: 3,
            road: 8,
            observationClear: 66,
            
            // Box 2 - Surveillance Effectiveness (Green)
            camerasInstalled: 55,
            areaCovered: 69,
            areaUncovered: 31,
            
            // Box 3 - BN HQ Elements (Red)
            bnhqAvailable: 60,
            bnhqNotAvailable: 25,
            bnhqNeedImprovement: 15,
            
            // Box 4 - BOP Elements (Yellow)
            bopAvailable: 70,
            bopNotAvailable: 24,
            bopNeedImprovement: 18
        };

        // ============================================
        // CONSTANTS - DO NOT CHANGE
        // ============================================
        const COLORS = {
            blue: '#3498db',
            green: '#27ae60',
            red: '#e74c3c',
            yellow: '#f1c40f',
            grey: '#E0E0E0',
            greyDark: '#BDBDBD'
        };

        const MAX_VALUES = {
            operational: 40,
            surveillance: 20,
            bnhq: 20,
            bop: 20
        };

        const RING_THICKNESS = 28;

        // ============================================
        // UTILITY FUNCTIONS
        // ============================================
        
        /**
         * Calculate SVG arc path
         * @param {number} cx - center x
         * @param {number} cy - center y
         * @param {number} r - radius
         * @param {number} startAngle - start angle in degrees
         * @param {number} endAngle - end angle in degrees
         * @returns {string} SVG path d attribute
         */
        function describeArc(cx, cy, r, startAngle, endAngle) {
            const start = polarToCartesian(cx, cy, r, endAngle);
            const end = polarToCartesian(cx, cy, r, startAngle);
            const innerR = r - RING_THICKNESS;
            
            const startInner = polarToCartesian(cx, cy, innerR, endAngle);
            const endInner = polarToCartesian(cx, cy, innerR, startAngle);
            
            const largeArcFlag = endAngle - startAngle <= 180 ? "0" : "1";
            
            return [
                "M", start.x, start.y,
                "A", r, r, 0, largeArcFlag, 0, end.x, end.y,
                "L", endInner.x, endInner.y,
                "A", innerR, innerR, 0, largeArcFlag, 1, startInner.x, startInner.y,
                "Z"
            ].join(" ");
        }

        function polarToCartesian(centerX, centerY, radius, angleInDegrees) {
            const angleInRadians = (angleInDegrees - 90) * Math.PI / 180.0;
            return {
                x: centerX + (radius * Math.cos(angleInRadians)),
                y: centerY + (radius * Math.sin(angleInRadians))
            };
        }

        // ============================================
        // RENDER FUNCTIONS
        // ============================================

        function updateHeader() {
            document.getElementById('locationDate').textContent = `${dashboardData.location} | As on ${dashboardData.date}`;
            
            const logoLeft = document.getElementById('logoLeft');
            const logoRight = document.getElementById('logoRight');
            
            if (dashboardData.leftImagePath) {
                logoLeft.src = dashboardData.leftImagePath;
                logoLeft.style.display = 'inline';
            } else {
                logoLeft.style.display = 'none';
            }
            
            if (dashboardData.rightImagePath) {
                logoRight.src = dashboardData.rightImagePath;
                logoRight.style.display = 'inline';
            } else {
                logoRight.style.display = 'none';
            }
        }

        function updateBoxes() {
            // Box 1 - Operational Health
            document.getElementById('totalAOR').textContent = dashboardData.totalAOR;
            document.getElementById('fenced').textContent = dashboardData.fenced;
            document.getElementById('unfenced').textContent = dashboardData.unfenced;
            document.getElementById('road').textContent = dashboardData.road;
            document.getElementById('observationClear').textContent = dashboardData.observationClear;
            
            // Box 2 - Surveillance
            document.getElementById('camerasInstalled').textContent = dashboardData.camerasInstalled;
            document.getElementById('areaCovered').textContent = dashboardData.areaCovered;
            document.getElementById('areaUncovered').textContent = dashboardData.areaUncovered;
            
            // Box 3 - BN HQ
            document.getElementById('bnhqAvailable').textContent = dashboardData.bnhqAvailable;
            document.getElementById('bnhqNotAvailable').textContent = dashboardData.bnhqNotAvailable;
            document.getElementById('bnhqNeedImprovement').textContent = dashboardData.bnhqNeedImprovement;
            
            // Box 4 - BOP
            document.getElementById('bopAvailable').textContent = dashboardData.bopAvailable;
            document.getElementById('bopNotAvailable').textContent = dashboardData.bopNotAvailable;
            document.getElementById('bopNeedImprovement').textContent = dashboardData.bopNeedImprovement;
        }

        function drawRingChart() {
            const svg = document.getElementById('ringChart');
            const cx = 200;
            const cy = 200;
            const outerR = 180;
            const innerR = 132;
            const gap = 1.5;
            
            // Get BICEP score and determine color based on value
            const bicepScore = dashboardData.bicepScore;
            let scoreColor;
            if (bicepScore < 60) {
                scoreColor = COLORS.red;      // Red for < 60
            } else if (bicepScore <= 75) {
                scoreColor = COLORS.yellow;   // Yellow for 60-75
            } else {
                scoreColor = COLORS.green;    // Green for > 75
            }
            
            const segments = [
                { 
                    value: dashboardData.surveillance, 
                    max: MAX_VALUES.surveillance, 
                    color: COLORS.green,
                    ratio: 0.2
                },
                { 
                    value: dashboardData.bnhq, 
                    max: MAX_VALUES.bnhq, 
                    color: COLORS.red,
                    ratio: 0.2
                },
                { 
                    value: dashboardData.bop, 
                    max: MAX_VALUES.bop, 
                    color: COLORS.yellow,
                    ratio: 0.2
                },
                { 
                    value: dashboardData.operational, 
                    max: MAX_VALUES.operational, 
                    color: COLORS.blue,
                    ratio: 0.4
                }
            ];
            
            svg.innerHTML = '';
            
            let currentAngle = -18;
            
            segments.forEach((seg) => {
                const segSize = 360 * seg.ratio;
                const startAngle = currentAngle + gap;
                const endAngle = currentAngle + segSize - gap;
                
                const filledPercent = seg.value / seg.max;
                const filledAngle = (segSize - gap * 2) * filledPercent;
                const emptyAngle = (segSize - gap * 2) - filledAngle;
                
                const filledStart = startAngle;
                const filledEnd = startAngle + filledAngle;
                const emptyStart = filledEnd;
                const emptyEnd = endAngle;
                
                if (seg.value > 0) {
                    const filledPath = document.createElementNS("http://www.w3.org/2000/svg", "path");
                    filledPath.setAttribute("d", describeArc(cx, cy, outerR, filledStart, filledEnd));
                    filledPath.setAttribute("fill", seg.color);
                    filledPath.setAttribute("stroke", seg.color);
                    filledPath.setAttribute("stroke-width", "3");
                    svg.appendChild(filledPath);
                }
                
                if (seg.value < seg.max) {
                    const emptyPath = document.createElementNS("http://www.w3.org/2000/svg", "path");
                    emptyPath.setAttribute("d", describeArc(cx, cy, outerR, emptyStart, emptyEnd));
                    emptyPath.setAttribute("fill", "#ffffff");
                    emptyPath.setAttribute("stroke", seg.color);
                    emptyPath.setAttribute("stroke-width", "2");
                    svg.appendChild(emptyPath);
                }
                
                currentAngle += segSize;
            });
            
            // Add white circle to fill center
            const centerCircle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
            centerCircle.setAttribute("cx", cx);
            centerCircle.setAttribute("cy", cy);
            centerCircle.setAttribute("r", outerR - RING_THICKNESS - 2);
            centerCircle.setAttribute("fill", "#ffffff");
            svg.appendChild(centerCircle);
            
            const textGroup = document.createElementNS("http://www.w3.org/2000/svg", "g");
            textGroup.setAttribute("class", "ring-center-text");
            
            const bicepText = document.createElementNS("http://www.w3.org/2000/svg", "text");
            bicepText.setAttribute("x", cx);
            bicepText.setAttribute("y", cy - 40);
            bicepText.setAttribute("class", "ring-center-title");
            bicepText.setAttribute("font-size", "32");
            bicepText.setAttribute("font-weight", "700");
            bicepText.setAttribute("fill", "#333");
            bicepText.textContent = "BICEP";
            
            const healthText = document.createElementNS("http://www.w3.org/2000/svg", "text");
            healthText.setAttribute("x", cx);
            healthText.setAttribute("y", cy - 10);
            healthText.setAttribute("class", "ring-center-title");
            healthText.setAttribute("font-size", "24");
            healthText.setAttribute("font-weight", "700");
            healthText.setAttribute("fill", "#333");
            healthText.textContent = "Health Score";
            
            const scoreText = document.createElementNS("http://www.w3.org/2000/svg", "text");
            scoreText.setAttribute("x", cx);
            scoreText.setAttribute("y", cy + 80);
            scoreText.setAttribute("class", "ring-center-score");
            scoreText.setAttribute("font-size", "72");
            scoreText.setAttribute("fill", scoreColor);
            scoreText.textContent = `${bicepScore}%`;
            
            textGroup.appendChild(bicepText);
            textGroup.appendChild(healthText);
            textGroup.appendChild(scoreText);
            svg.appendChild(textGroup);
        }

        // ============================================
        // INITIALIZATION
        // ============================================
        
        function init() {
            updateHeader();
            updateBoxes();
            drawRingChart();
        }

        // Run on page load
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
